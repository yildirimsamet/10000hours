(this.webpackJsonp1000hours=this.webpackJsonp1000hours||[]).push([[0],{12:function(e,t,a){e.exports={categoryList:"styles_categoryList__3AfCy",categoryListHeader:"styles_categoryListHeader__2ljNC",modal:"styles_modal__t_5EK",modalTitle:"styles_modalTitle__1lJc4",modalClose:"styles_modalClose__1xFlK"}},15:function(e,t,a){e.exports={red2:"styles_red2__1BVyj",red1:"styles_red1__20GG0",green0:"styles_green0__3Gc_9",green1:"styles_green1__3VL9x",green2:"styles_green2__1gcVT",statuBar:"styles_statuBar__1jpU-",statuBarProgress:"styles_statuBarProgress__202mA",statuBarPercentage:"styles_statuBarPercentage__1dVqf",statuBarPercentageMid:"styles_statuBarPercentageMid__1g2eG"}},18:function(e,t,a){e.exports={nav:"styles_nav__2uXst",navLogo:"styles_navLogo__zIOtJ",navUser:"styles_navUser__3YpCk"}},36:function(e,t,a){e.exports={mainLayout:"styles_mainLayout__3IZ2J"}},41:function(e,t,a){},42:function(e,t,a){},5:function(e,t,a){e.exports={category:"styles_category__1zyYU",categoryHeader:"styles_categoryHeader__-skYs",categoryMenu:"styles_categoryMenu__MEwmX",categoryMenuActive:"styles_categoryMenuActive__1ClEc",categoryMenuHeader:"styles_categoryMenuHeader__3cgBZ",categoryMenuHeaderButton:"styles_categoryMenuHeaderButton__3nrVV",categoryMenuHeaderButtonActive:"styles_categoryMenuHeaderButtonActive__3ysO0",categoryMenuFormInput:"styles_categoryMenuFormInput__ahMOp",categoryMenuFormButton:"styles_categoryMenuFormButton__1K2hx",categoryMenuRemove:"styles_categoryMenuRemove__qJYiN"}},76:function(e,t,a){"use strict";a.r(t);var s=a(2),r=a.n(s),n=a(17),c=a.n(n),o=(a(41),a(42),Object(s.createContext)(null)),i=o.Provider,u=function(){return Object(s.useContext)(o)},l=a(3),d=a.n(l),j=a(7),m=a(13),g=a(11),b=a(6),h=a(33),_=a.n(h),y=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).BASE_API_URL,p=_.a.create({baseURL:y||"http://localhost:5000"}),O=a(8),v=a.n(O),x=a(10),f=a.n(x),N=a(22),C=a(16),B=function(e){var t=e.success,a=void 0===t||t,s=e.message,r=void 0===s?"Ba\u015far\u0131l\u0131":s;a?C.b.success(r):C.b.error(r)},H=a(9),S=a.n(H),k=a(1),w=function(){var e=u().setUser,t=Object(s.useState)({email:"",password:""}),a=Object(b.a)(t,2),r=a[0],n=a[1],c=[{id:0,name:"Sign In",logo:Object(k.jsx)(N.a,{size:"40"})},{id:1,name:"Sign Up",logo:Object(k.jsx)(N.b,{size:"40"})}],o=Object(s.useState)(c[0].id),i=Object(b.a)(o,2),l=i[0],h=i[1],_=function(e){n(Object(g.a)(Object(g.a)({},r),{},Object(m.a)({},e.target.name,e.target.value)))},y=function(){var t=Object(j.a)(d.a.mark((function t(a){var s,o,i,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s=l===c[0].id?"/user/signin":"/user/signup",t.prev=2,t.next=5,p.post(s,r);case 5:o=t.sent,i=o.data,u=null===i||void 0===i?void 0:i.data,i&&(B({success:i.success,message:i.message}),l===c[1].id&&(h(c[0].id),n({email:"",password:""}))),u&&(localStorage.setItem("user",JSON.stringify({email:u.email,categories:u.categories})),S.a.set("token",u.token,{expires:7}),e({email:u.email,categories:u.categories})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),B({success:!1,message:"Bilinmeyen bir hata olu\u015ftu."});case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:v.a.auth,children:[Object(k.jsxs)("div",{className:v.a.authHeader,children:[c[l].logo,Object(k.jsx)("h3",{className:v.a.authHeaderTitle,children:c[l].name})]}),Object(k.jsxs)("div",{className:v.a.authFormWrapper,children:[c.map((function(e){return Object(k.jsx)("button",{className:f()(v.a.authButton,l===e.id&&v.a.authButtonActive),onClick:function(){h(e.id)},children:e.name},e.id)})),Object(k.jsxs)("form",{className:v.a.authForm,onSubmit:y,children:[Object(k.jsx)("label",{htmlFor:"authEmail",children:"Email"}),Object(k.jsx)("input",{id:"authEmail",name:"email",type:"email",value:r.email,onChange:_}),Object(k.jsx)("label",{htmlFor:"authPassword",children:"Password"}),Object(k.jsx)("input",{id:"authPassword",name:"password",type:"password",value:r.password,onChange:_}),Object(k.jsx)("input",{value:"Submit",type:"submit",className:v.a.authFormSubmit})]})]})]})},M=(a(64),a(12)),F=a.n(M),A=a(14),L=a(5),P=a.n(L),E=a(35),I=a(15),T=a.n(I),U=function(e){var t=e.hours,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return(100*e/t).toFixed(0)}(t);return Object(k.jsxs)("div",{className:T.a.statuBar,children:[Object(k.jsx)("span",{style:{width:"".concat(a,"%")},className:f()(T.a.statuBarProgress,T.a[function(e){return e>=0&&e<20?"red2":e>=20&&e<40?"red1":e>=40&&e<60?"green0":e>=60&&e<80?"green1":e>=80&&e<=100?"green2":""}(+a)]),children:t>500&&(+a<20?t:t+" Hours")}),Object(k.jsxs)("div",{className:T.a.statuBarPercentage,children:[Object(k.jsx)("span",{children:"0%"}),t>500&&Object(k.jsx)("span",{style:{left:"".concat(a,"%")},className:T.a.statuBarPercentageMid,children:a+"%"}),Object(k.jsx)("span",{children:"100%"})]})]})},R=function(){var e={headers:{"Content-Type":"application/json"}},t=S.a.get("token");return t&&(e.headers.Authorization="Bearer "+t),e},z=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post("/user/get-user",{},R()).then((function(e){return console.log(e),e}));case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=a(34),J=a.n(Y),V=function(e){var t,a=e.name,r=e.hours,n=u().setUser,c=Object(s.useState)(!1),o=Object(b.a)(c,2),i=o[0],l=o[1],m=Object(s.useState)("Add"),g=Object(b.a)(m,2),h=g[0],_=g[1],y=Object(s.useState)(""),O=Object(b.a)(y,2),v=O[0],x=O[1],N=function(){z().then((function(e){n({email:e.data.email,categories:e.data.categories})}))},C=function(){var e=Object(j.a)(d.a.mark((function e(t){var s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!parseInt(v)){e.next=16;break}return e.prev=2,e.next=5,p.post("/user/update-category",{name:a,action:"Add"===h?"increment":"decrement",hours:+v},R());case 5:s=e.sent,(r=s.data).success&&(x(""),N(),l(!1)),B({success:r.success,message:r.message||"G\xfcncelleme ba\u015far\u0131l\u0131"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),B({success:!1,message:"Something went wrong"});case 14:e.next=17;break;case 16:B({success:!1,message:"Please provide number"});case 17:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:P.a.categoryOuter,children:[Object(k.jsxs)("div",{className:P.a.category,children:[Object(k.jsxs)("div",{className:P.a.categoryHeader,children:[Object(k.jsxs)("p",{children:[a,r<=500&&"(".concat(r," hours) ")]}),Object(k.jsx)("p",{children:(t=r,t>=0&&t<2e3?"\ud83d\ude00":t>=2e3&&t<4e3?"\ud83d\ude04":t>=4e3&&t<6e3?"\ud83d\ude02":t>=6e3&&t<8e3?"\ud83d\ude0e":t>=8e3&&t<=1e4?"\ud83d\ude0d":void 0)}),i?Object(k.jsx)(A.c,{onClick:function(){x(""),l(!1)},size:"24"}):Object(k.jsx)(E.a,{size:"24",onClick:function(){x(""),l(!0)}})]}),Object(k.jsx)("div",{children:Object(k.jsx)(U,{hours:r})})]}),Object(k.jsxs)("div",{className:f()(P.a.categoryMenu,i&&P.a.categoryMenuActive),children:[Object(k.jsx)("span",{onClick:Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J.a.fire({title:"Are you sure?",icon:"question",showCancelButton:!0}).then(function(){var e=Object(j.a)(d.a.mark((function e(t){var s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=14;break}return e.prev=2,e.next=5,p.post("/user/update-category",{action:"remove",name:a},R());case 5:s=e.sent,r=s.data,B({success:r.success,message:r.message||"Category successfully removed."}),N(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),B({success:!1,message:"An error occured."});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)}))),className:P.a.categoryMenuRemove,children:"Remove Category"}),Object(k.jsx)("div",{className:P.a.categoryMenuHeader,children:Object.values({add:"Add",remove:"Remove"}).map((function(e){return Object(k.jsx)("button",{onClick:function(){return _(e)},className:f()(P.a.categoryMenuHeaderButton,h==e&&P.a.categoryMenuHeaderButtonActive),children:e})}))}),Object(k.jsx)("div",{className:P.a.categoryMenuForm,children:Object(k.jsxs)("form",{onSubmit:C,children:[Object(k.jsx)("input",{value:v,onChange:function(e){return x(e.target.value)},className:P.a.categoryMenuFormInput,placeholder:"How many hours will you ".concat(h,"?"),type:"text"}),Object(k.jsx)("input",{className:P.a.categoryMenuFormButton,value:h,type:"submit"})]})})]})]})},W=function(){var e=u(),t=e.user,a=e.setUser,r=t.categories,n=Object(s.useState)(!1),c=Object(b.a)(n,2),o=c[0],i=c[1],l=Object(s.useState)({categoryName:"",initialHours:""}),h=Object(b.a)(l,2),_=h[0],y=h[1],O=function(e){y(Object(g.a)(Object(g.a)({},_),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(k.jsxs)("div",{className:F.a.categoryList,children:[Object(k.jsxs)("div",{className:F.a.categoryListHeader,children:[Object(k.jsx)("p",{children:"Categories"}),Object(k.jsx)(A.b,{onClick:function(){return i(!0)},size:"24",color:"green"})]}),Object(k.jsx)("div",{className:F.a.categoryListCategories,children:r&&r.map((function(e,t){return Object(k.jsx)(V,Object(g.a)({},e),t)}))}),o&&Object(k.jsxs)("div",{className:F.a.modal,children:[Object(k.jsx)("h3",{className:F.a.modalTitle,children:"New Category"}),Object(k.jsx)("span",{onClick:function(){return i(!1)},className:F.a.modalClose,children:"X"}),Object(k.jsx)("label",{htmlFor:"categoryName",children:"Category Name"}),Object(k.jsx)("input",{value:_.categoryName,name:"categoryName",onChange:O,id:"categoryName",placeholder:"Category Name",type:"text"}),Object(k.jsx)("label",{htmlFor:"initialHours",children:"Initial Hours"}),Object(k.jsx)("input",{value:_.initialHours,name:"initialHours",onChange:O,id:"initialHours",placeholder:"Initial Hours",type:"text"}),Object(k.jsx)("button",{onClick:Object(j.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.categoryName){e.next=13;break}return e.prev=1,e.next=4,p.post("/user/create-category",{name:_.categoryName,initialHours:+_.initialHours||0},R());case 4:t=e.sent,(s=t.data).success&&(z().then((function(e){a({email:e.data.email,categories:e.data.categories})})),i(!1)),B({success:s.success,message:s.message||"Category added successfully."}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),B({success:!1,message:"Something went wrong"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),children:"Submit"})]})]})},D=function(){return Object(k.jsx)("div",{children:Object(k.jsx)(W,{})})},K=a(18),G=a.n(K),q=function(){try{localStorage.removeItem("user"),S.a.remove("token")}catch(e){console.log("logout error",e)}},X=function(){var e=u(),t=e.user,a=e.setUser;return Object(k.jsxs)("nav",{className:G.a.nav,children:[Object(k.jsx)("div",{className:G.a.navLogo,children:"10000Hours"}),t?Object(k.jsxs)("div",{className:G.a.navUser,children:[Object(k.jsxs)("p",{children:["Welcome, ",t.email.split("@")[0]]}),Object(k.jsx)(A.a,{onClick:function(){q(),a(null)},color:"red",size:"24"})]}):null]})},Z=a(36),Q=a.n(Z),$=function(e){var t=e.children;return Object(k.jsxs)("div",{className:Q.a.mainLayout,children:[Object(k.jsx)(X,{}),t]})},ee=(a(75),function(){var e=u().user;return Object(k.jsx)($,{children:Object(k.jsxs)("div",{className:"App",children:[e?Object(k.jsx)(D,{}):Object(k.jsx)(w,{}),Object(k.jsx)(C.a,{})]})})}),te=function(e){var t=e.children,a=Object(s.useState)(null),r=Object(b.a)(a,2),n=r[0],c=r[1];return Object(s.useEffect)((function(){S.a.get("token")&&z().then((function(e){c({email:e.data.email,categories:e.data.categories})}))}),[]),Object(k.jsx)(i,{value:{user:n,setUser:c},children:t})};c.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(te,{children:Object(k.jsx)(ee,{})})}),document.getElementById("root"))},8:function(e,t,a){e.exports={auth:"styles_auth__2m5xi",authHeader:"styles_authHeader__2SYi7",authHeaderTitle:"styles_authHeaderTitle__3cQrE",authButton:"styles_authButton__YF_a3",authButtonActive:"styles_authButtonActive__22Ms_",authForm:"styles_authForm__1kSYr",authFormWrapper:"styles_authFormWrapper__1CYon",authFormSubmit:"styles_authFormSubmit__jO0yI"}}},[[76,1,2]]]);
//# sourceMappingURL=main.d868e0f4.chunk.js.map